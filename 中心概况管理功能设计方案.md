# ä¸­å¿ƒæ¦‚å†µç®¡ç†åŠŸèƒ½è®¾è®¡æ–¹æ¡ˆ

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

ä¸­å¿ƒæ¦‚å†µç®¡ç†ç”¨äºç®¡ç†"ä¸­å¿ƒæ¦‚å†µ"é¡µé¢çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š
1. **Bannerç®¡ç†** - é¦–é¡µBannerå›¾ç‰‡/è§†é¢‘
2. **è¯¦æƒ…ç®¡ç†** - ä¸­å¿ƒè¯¦æƒ…é¡µçš„ä¸»è¦å†…å®¹ï¼ˆè§†é¢‘ã€æ ‡é¢˜ã€å»ºè®¾èƒŒæ™¯ã€ç°çŠ¶æ¦‚å†µã€å‘å±•æ„¿æ™¯ï¼‰
3. **ç»„ç»‡æ¶æ„ç®¡ç†** - ç»„ç»‡æ¶æ„äººå‘˜ä¿¡æ¯ï¼ˆä¸»ä»»ã€å‰¯ä¸»ä»»ã€æˆå‘˜ï¼‰
4. **ä¸‹è®¾å®éªŒå®¤ç®¡ç†** - ä¸­å¿ƒä¸‹è®¾çš„å®éªŒå®¤åˆ—è¡¨

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### 1. center_overview_banner è¡¨ï¼ˆä¸­å¿ƒæ¦‚å†µBannerï¼‰

å­˜å‚¨ä¸­å¿ƒæ¦‚å†µé¡µé¢çš„Bannerä¿¡æ¯ã€‚

```sql
CREATE TABLE center_overview_banner (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    type VARCHAR(20) NOT NULL DEFAULT 'image' COMMENT 'ç±»å‹ï¼šimage-å›¾ç‰‡ï¼Œvideo-è§†é¢‘',
    image_url VARCHAR(500) DEFAULT NULL COMMENT 'å›¾ç‰‡è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰',
    video_url VARCHAR(500) DEFAULT NULL COMMENT 'è§†é¢‘è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰',
    video_url_external VARCHAR(500) DEFAULT NULL COMMENT 'å¤–éƒ¨è§†é¢‘URL',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

**è¯´æ˜ï¼š**
- Banneråªæœ‰ä¸€æ¡è®°å½•ï¼ˆå•ä¾‹æ¨¡å¼ï¼‰
- `type` ä¸º `image` æ—¶ä½¿ç”¨ `image_url`
- `type` ä¸º `video` æ—¶ä½¿ç”¨ `video_url` æˆ– `video_url_external`

---

### 2. center_overview_detail è¡¨ï¼ˆä¸­å¿ƒæ¦‚å†µè¯¦æƒ…ï¼‰

å­˜å‚¨ä¸­å¿ƒæ¦‚å†µé¡µé¢çš„è¯¦æƒ…å†…å®¹ã€‚

```sql
CREATE TABLE center_overview_detail (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    video_url VARCHAR(500) DEFAULT NULL COMMENT 'è§†é¢‘è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰',
    video_url_external VARCHAR(500) DEFAULT NULL COMMENT 'å¤–éƒ¨è§†é¢‘URL',
    main_title VARCHAR(200) NOT NULL COMMENT 'ä¸»æ ‡é¢˜',
    background TEXT COMMENT 'å»ºè®¾èƒŒæ™¯ï¼ˆHTMLæ ¼å¼ï¼‰',
    overview TEXT COMMENT 'ç°çŠ¶æ¦‚å†µï¼ˆHTMLæ ¼å¼ï¼‰',
    vision TEXT COMMENT 'å‘å±•æ„¿æ™¯ï¼ˆHTMLæ ¼å¼ï¼‰',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

**è¯´æ˜ï¼š**
- è¯¦æƒ…åªæœ‰ä¸€æ¡è®°å½•ï¼ˆå•ä¾‹æ¨¡å¼ï¼‰

---

### 3. center_overview_organization è¡¨ï¼ˆç»„ç»‡æ¶æ„ï¼‰

å­˜å‚¨ç»„ç»‡æ¶æ„äººå‘˜ä¿¡æ¯ã€‚

```sql
CREATE TABLE center_overview_organization (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    role VARCHAR(50) NOT NULL COMMENT 'è§’è‰²ï¼šdirector-ä¸»ä»»ï¼Œdeputy_director-å‰¯ä¸»ä»»ï¼Œmember-æˆå‘˜',
    name VARCHAR(100) NOT NULL COMMENT 'å§“å',
    sort_order INT DEFAULT 0 COMMENT 'æ’åºé¡ºåº',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_role (role),
    INDEX idx_sort_order (sort_order)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

**è¯´æ˜ï¼š**
- æ”¯æŒå¤šä¸ªä¸»ä»»ã€å‰¯ä¸»ä»»ã€æˆå‘˜
- é€šè¿‡ `role` å­—æ®µåŒºåˆ†è§’è‰²
- é€šè¿‡ `sort_order` æ’åº

---

### 4. center_overview_laboratory è¡¨ï¼ˆä¸‹è®¾å®éªŒå®¤ï¼‰

å­˜å‚¨ä¸­å¿ƒä¸‹è®¾çš„å®éªŒå®¤ä¿¡æ¯ã€‚

```sql
CREATE TABLE center_overview_laboratory (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(200) NOT NULL COMMENT 'å®éªŒå®¤åç§°',
    image_url VARCHAR(500) NOT NULL COMMENT 'å›¾ç‰‡è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰',
    link VARCHAR(500) DEFAULT NULL COMMENT 'é“¾æ¥åœ°å€',
    sort_order INT DEFAULT 0 COMMENT 'æ’åºé¡ºåº',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_sort_order (sort_order)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

---

## ğŸ”Œ åç«¯APIè®¾è®¡

### 1. Bannerç®¡ç† API

#### 1.1 è·å–Banner
```
GET /api/center-overview/banner
å“åº”ï¼š
{
  "success": true,
  "data": {
    "id": 1,
    "type": "image",
    "imageUrl": "upload/20251130/xxx.jpg",
    "videoUrl": null,
    "videoUrlExternal": null,
    "createdAt": "2025-01-01T00:00:00",
    "updatedAt": "2025-01-01T00:00:00"
  }
}
```

#### 1.2 ä¿å­˜/æ›´æ–°Banner
```
POST /api/center-overview/banner
Content-Type: multipart/form-data
è¯·æ±‚ä½“ï¼š
- type: image | video
- image: File (å½“type=imageæ—¶)
- video: File (å½“type=videoæ—¶ï¼Œå¯é€‰)
- videoUrlExternal: String (å½“type=videoä¸”ä½¿ç”¨å¤–éƒ¨URLæ—¶)

å“åº”ï¼š
{
  "success": true,
  "message": "ä¿å­˜æˆåŠŸ",
  "data": { ... }
}
```

#### 1.3 åˆ é™¤Banner
```
DELETE /api/center-overview/banner
å“åº”ï¼š
{
  "success": true,
  "message": "åˆ é™¤æˆåŠŸ"
}
```

---

### 2. è¯¦æƒ…ç®¡ç† API

#### 2.1 è·å–è¯¦æƒ…
```
GET /api/center-overview/detail
å“åº”ï¼š
{
  "success": true,
  "data": {
    "id": 1,
    "videoUrl": null,
    "videoUrlExternal": null,
    "mainTitle": "ä¸œå—å¤§å­¦å»ºç­‘å­¦é™¢å®éªŒæ•™å­¦ä¸­å¿ƒ",
    "background": "<p>å»ºè®¾èƒŒæ™¯å†…å®¹...</p>",
    "overview": "<p>ç°çŠ¶æ¦‚å†µå†…å®¹...</p>",
    "vision": "<p>å‘å±•æ„¿æ™¯å†…å®¹...</p>",
    "createdAt": "2025-01-01T00:00:00",
    "updatedAt": "2025-01-01T00:00:00"
  }
}
```

#### 2.2 ä¿å­˜/æ›´æ–°è¯¦æƒ…
```
POST /api/center-overview/detail
Content-Type: multipart/form-data
è¯·æ±‚ä½“ï¼š
- video: File (å¯é€‰)
- videoUrlExternal: String (å¯é€‰)
- mainTitle: String (å¿…å¡«)
- background: String (HTMLæ ¼å¼)
- overview: String (HTMLæ ¼å¼)
- vision: String (HTMLæ ¼å¼)

å“åº”ï¼š
{
  "success": true,
  "message": "ä¿å­˜æˆåŠŸ",
  "data": { ... }
}
```

---

### 3. ç»„ç»‡æ¶æ„ç®¡ç† API

#### 3.1 è·å–ç»„ç»‡æ¶æ„
```
GET /api/center-overview/organization
å“åº”ï¼š
{
  "success": true,
  "data": {
    "director": [
      { "id": 1, "name": "ç‹ä¼Ÿ", "sortOrder": 0 }
    ],
    "deputyDirector": [
      { "id": 2, "name": "åå¥½", "sortOrder": 0 },
      { "id": 3, "name": "å†¯ä¸–è™", "sortOrder": 1 }
    ],
    "members": [
      { "id": 4, "name": "æ˜¯ç½ª", "sortOrder": 0 },
      { "id": 5, "name": "æè¶…æ˜", "sortOrder": 1 }
    ]
  }
}
```

#### 3.2 ä¿å­˜ç»„ç»‡æ¶æ„
```
POST /api/center-overview/organization
Content-Type: application/json
è¯·æ±‚ä½“ï¼š
{
  "director": ["ç‹ä¼Ÿ"],
  "deputyDirector": ["åå¥½", "å†¯ä¸–è™"],
  "members": ["æ˜¯ç½ª", "æè¶…æ˜", "å…°ç¥¥å¯", "åˆ˜å®‡è¡¡", "å‘¨æµ·é£"]
}

å“åº”ï¼š
{
  "success": true,
  "message": "ä¿å­˜æˆåŠŸ"
}
```

**è¯´æ˜ï¼š**
- æ­¤æ¥å£ä¼šå…ˆåˆ é™¤æ‰€æœ‰ç°æœ‰æ•°æ®ï¼Œç„¶åæ’å…¥æ–°æ•°æ®
- è‡³å°‘éœ€è¦ä¸€ä½ä¸»ä»»

---

### 4. å®éªŒå®¤ç®¡ç† API

#### 4.1 è·å–å®éªŒå®¤åˆ—è¡¨
```
GET /api/center-overview/laboratory
å“åº”ï¼š
{
  "success": true,
  "data": [
    {
      "id": 1,
      "name": "è®¾è®¡åŸºç¡€å®è®­å®éªŒå®¤",
      "imageUrl": "upload/20251130/xxx.jpg",
      "link": "/lab/design-basic",
      "sortOrder": 1,
      "createdAt": "2025-01-01T00:00:00",
      "updatedAt": "2025-01-01T00:00:00"
    }
  ]
}
```

#### 4.2 æ·»åŠ å®éªŒå®¤
```
POST /api/center-overview/laboratory
Content-Type: multipart/form-data
è¯·æ±‚ä½“ï¼š
- name: String (å¿…å¡«)
- image: File (å¿…å¡«)
- link: String (å¯é€‰)
- sortOrder: Integer (å¯é€‰ï¼Œé»˜è®¤0)

å“åº”ï¼š
{
  "success": true,
  "message": "æ·»åŠ æˆåŠŸ",
  "data": { ... }
}
```

#### 4.3 æ›´æ–°å®éªŒå®¤
```
PUT /api/center-overview/laboratory/{id}
Content-Type: multipart/form-data
è¯·æ±‚ä½“ï¼š
- name: String (å¯é€‰)
- image: File (å¯é€‰)
- link: String (å¯é€‰)
- sortOrder: Integer (å¯é€‰)

å“åº”ï¼š
{
  "success": true,
  "message": "æ›´æ–°æˆåŠŸ",
  "data": { ... }
}
```

#### 4.4 åˆ é™¤å®éªŒå®¤
```
DELETE /api/center-overview/laboratory/{id}
å“åº”ï¼š
{
  "success": true,
  "message": "åˆ é™¤æˆåŠŸ"
}
```

---

## ğŸ“ åç«¯ä»£ç ç»“æ„

### å®ä½“ç±»ï¼ˆEntityï¼‰

1. `CenterOverviewBanner.java`
2. `CenterOverviewDetail.java`
3. `CenterOverviewOrganization.java`
4. `CenterOverviewLaboratory.java`

### Repositoryæ¥å£

1. `CenterOverviewBannerRepository.java`
2. `CenterOverviewDetailRepository.java`
3. `CenterOverviewOrganizationRepository.java`
4. `CenterOverviewLaboratoryRepository.java`

### Serviceå±‚

1. `CenterOverviewService.java` - ç»Ÿä¸€çš„æœåŠ¡ç±»ï¼ŒåŒ…å«æ‰€æœ‰ä¸šåŠ¡é€»è¾‘

### Controllerå±‚

1. `CenterOverviewController.java` - ç»Ÿä¸€çš„æ§åˆ¶å™¨ï¼ŒåŒ…å«æ‰€æœ‰APIç«¯ç‚¹

---

## ğŸ¨ å‰ç«¯åŠŸèƒ½è®¾è®¡

### 1. Bannerç®¡ç†

**åŠŸèƒ½ï¼š**
- æ”¯æŒå›¾ç‰‡æˆ–è§†é¢‘ç±»å‹
- å›¾ç‰‡ä¸Šä¼ ï¼ˆæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼‰
- è§†é¢‘ä¸Šä¼ ï¼ˆæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼‰
- å¤–éƒ¨è§†é¢‘URLè¾“å…¥
- é¢„è§ˆåŠŸèƒ½
- åˆ é™¤åŠŸèƒ½

**å®ç°ï¼š**
- ä½¿ç”¨ç°æœ‰çš„ `BannerManagement` ç»„ä»¶
- è°ƒç”¨æ–‡ä»¶ä¸Šä¼ API

---

### 2. è¯¦æƒ…ç®¡ç†

**åŠŸèƒ½ï¼š**
- è§†é¢‘Bannerï¼ˆä¸Šä¼ æ–‡ä»¶æˆ–å¤–éƒ¨URLï¼‰
- ä¸»æ ‡é¢˜è¾“å…¥
- å»ºè®¾èƒŒæ™¯ï¼ˆå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰
- ç°çŠ¶æ¦‚å†µï¼ˆå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰
- å‘å±•æ„¿æ™¯ï¼ˆå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰
- ä¿å­˜å’Œé‡ç½®åŠŸèƒ½

**å®ç°ï¼š**
- ä½¿ç”¨ `RichTextEditor` ç»„ä»¶
- è§†é¢‘ä¸Šä¼ ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ API

---

### 3. ç»„ç»‡æ¶æ„ç®¡ç†

**åŠŸèƒ½ï¼š**
- ä¸»ä»»åˆ—è¡¨ï¼ˆå¯æ·»åŠ /åˆ é™¤ï¼Œè‡³å°‘ä¿ç•™1ä¸ªï¼‰
- å‰¯ä¸»ä»»åˆ—è¡¨ï¼ˆå¯æ·»åŠ /åˆ é™¤ï¼‰
- æˆå‘˜åˆ—è¡¨ï¼ˆå¯æ·»åŠ /åˆ é™¤ï¼‰
- ä¿å­˜å’Œé‡ç½®åŠŸèƒ½

**å®ç°ï¼š**
- åŠ¨æ€æ·»åŠ /åˆ é™¤è¡¨å•
- è°ƒç”¨ç»„ç»‡æ¶æ„API

---

### 4. å®éªŒå®¤ç®¡ç†

**åŠŸèƒ½ï¼š**
- å®éªŒå®¤åˆ—è¡¨å±•ç¤ºï¼ˆè¡¨æ ¼ï¼‰
- æ·»åŠ å®éªŒå®¤ï¼ˆå¯¹è¯æ¡†è¡¨å•ï¼‰
- ç¼–è¾‘å®éªŒå®¤ï¼ˆå¯¹è¯æ¡†è¡¨å•ï¼‰
- åˆ é™¤å®éªŒå®¤ï¼ˆç¡®è®¤å¯¹è¯æ¡†ï¼‰
- å›¾ç‰‡ä¸Šä¼ ï¼ˆæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼‰
- æ’åºåŠŸèƒ½

**å®ç°ï¼š**
- ä½¿ç”¨ `el-table` å±•ç¤ºåˆ—è¡¨
- ä½¿ç”¨ `el-dialog` å®ç°æ·»åŠ /ç¼–è¾‘
- ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ API

---

## ğŸ”§ å®ç°è¦ç‚¹

### 1. æ–‡ä»¶ä¸Šä¼ 

- æ‰€æœ‰å›¾ç‰‡å’Œè§†é¢‘éƒ½ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ API
- ä¿å­˜åˆ° `upload/æ—¥æœŸ/æ—¶é—´æˆ³_éšæœºå­—ç¬¦.æ‰©å±•å`
- æ•°æ®åº“å­˜å‚¨ç›¸å¯¹è·¯å¾„

### 2. å•ä¾‹æ¨¡å¼

- Bannerå’Œè¯¦æƒ…é‡‡ç”¨å•ä¾‹æ¨¡å¼ï¼ˆåªæœ‰ä¸€æ¡è®°å½•ï¼‰
- ä¿å­˜æ—¶å…ˆæŸ¥è¯¢æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™æ›´æ–°ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º

### 3. æ•°æ®éªŒè¯

- Bannerï¼štypeå¿…å¡«ï¼Œimage/videoæ ¹æ®typeå¿…å¡«
- è¯¦æƒ…ï¼šmainTitleå¿…å¡«
- ç»„ç»‡æ¶æ„ï¼šè‡³å°‘éœ€è¦ä¸€ä½ä¸»ä»»
- å®éªŒå®¤ï¼šnameå’Œimageå¿…å¡«

### 4. åˆ é™¤å¤„ç†

- åˆ é™¤è®°å½•æ—¶**ä¸åˆ é™¤**æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶
- åªåˆ é™¤æ•°æ®åº“è®°å½•

---

## ğŸ“ SQLåˆå§‹åŒ–è¯­å¥

å°†æ‰€æœ‰è¡¨çš„åˆ›å»ºè¯­å¥æ·»åŠ åˆ° `scripts/init.sql` æ–‡ä»¶ä¸­ã€‚

---

## âœ… å¼€å‘æ­¥éª¤

1. **æ•°æ®åº“è®¾è®¡** - åœ¨ `init.sql` ä¸­æ·»åŠ è¡¨ç»“æ„
2. **å®ä½“ç±»** - åˆ›å»º4ä¸ªå®ä½“ç±»
3. **Repository** - åˆ›å»º4ä¸ªRepositoryæ¥å£
4. **Service** - åˆ›å»ºCenterOverviewServiceï¼Œå®ç°æ‰€æœ‰ä¸šåŠ¡é€»è¾‘
5. **Controller** - åˆ›å»ºCenterOverviewControllerï¼Œå®ç°æ‰€æœ‰API
6. **æ–‡ä»¶ä¸Šä¼ ** - å®ç°æ–‡ä»¶ä¸Šä¼ å·¥å…·ç±»
7. **å‰ç«¯APIè°ƒç”¨** - åˆ›å»ºAPIæœåŠ¡æ–‡ä»¶
8. **å‰ç«¯é¡µé¢** - ä¿®æ”¹ç°æœ‰é¡µé¢ï¼Œå¯¹æ¥API

---

## ğŸ¯ æ€»ç»“

ä¸­å¿ƒæ¦‚å†µç®¡ç†åŒ…å«4ä¸ªå­æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰ç‹¬ç«‹çš„CRUDåŠŸèƒ½ã€‚æ‰€æœ‰å›¾ç‰‡å’Œè§†é¢‘éƒ½ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ æ–¹å¼ï¼Œå­˜å‚¨åœ¨æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæ•°æ®åº“åªå­˜å‚¨ç›¸å¯¹è·¯å¾„ã€‚


